---
Title: Switchゲーム映像をMacのDiscordで配信する方法
Category:
- レビュー
Date: 2022-08-08T09:08:41+09:00
URL: https://blog.turai.work/entry/20220808/1659917321
EditURL: https://blog.hatena.ne.jp/thr3a/thr3a.hatenablog.com/atom/entry/4207112889906762138
---

# Discordで通話仲間に配信したい

ゲームしてると目の前の自分の画面を共有したいことがある。PCの画面だと画面共有押せばすぐに共有できるが、ニンテンドースイッチ自体にはその機能がないためできない。

そこでキャプチャボードを使ってPCを通すことで画面共有できるようになったのでやり方でメモ。

# 要件

- ニンテンドースイッチのゲーム画面をDiscordの画面共有機能で共有できるようにする
  - ゲームの音声も共有する
  - 当たり前だが通話の音声は共有しない
- あくまで画面共有だけで**録画はしない**
- 今回はマイク（音声入力）はMacbook内蔵のマイクを使用するとする
- PCはWindowsではなくMacbookなのでMacOSとなる

# 用意するもの

### ニンテンドースイッチ

これがないと始まらない。自分は旧型を使用したが新型でも可能。当然映像出力機能のないスイッチライトは不可。

### キャプチャボード

今回は録画機能とか要らないのでとりあえず安さ重視でコレを買った

[asin:B08FHVCXZ6:detail]

Type-Cケーブルも（短いが）付属している点がGood

### パソコン(Macbook)

これも必須。なぜならスイッチ本体に配信機能が無いため。

今回自分はM1 Macbookを使った。

アプリケーションとしては以下

- Discord: 普段使ってるやつ
- [OBS](https://obsproject.com/ja/download): 配信するときの管理アプリ。Mac版も出てるしついこの間[M1ネイティブ版](https://github.com/obsproject/obs-studio/releases)もリリースされた

### HDMIケーブル2本

普段は1本で十分だが、1本多く使うので注意

[asin:B014I8SIJY:detail]

# やり方

まずは構成図のように配線をする。

![スクリーンショット 2022-08-08 8.47.41.png](https://cdn-ak.f.st-hatena.com/images/fotolife/t/thr3a/20220808/20220808085442.png)

次に[OBSをダウンロード](https://obsproject.com/ja/download)してインストール。設定していく

## OBSの設定

画面を開いたらウィザードみたいなのが表示されるが今回は**OBS本体で配信、録画をしないのでキャンセルする**

ここではOBSでゲームの映像、音声を扱えるようにするのがゴール。

OBS画面の左下の方にあるソースを右クリックして「映像キャプチャデバイス」を選択

![1.png](https://cdn-ak.f.st-hatena.com/images/fotolife/t/thr3a/20220808/20220808090645.png)

そのまま「OK」をクリック

![2.png](https://cdn-ak.f.st-hatena.com/images/fotolife/t/thr3a/20220808/20220808090715.png)

デバイスをキャプチャボードのやつ（自分の場合はMiraBox Capture）にしてプリセットから「1280x720」を選択する。

[f:id:thr3a:20220810001920p:plain]

これでOBSでスイッチの映像が扱えるようになった。

が、これだけだとゲームの音声が入らず無音配信になってしまうので音声も入れるようにする。

同様にソースを右クリックして「音声入力キャプチャ」をクリック

[f:id:thr3a:20220810001927p:plain]

わかりやすいように「ゲームの音声」とかの名前にして「OK」クリック

[f:id:thr3a:20220810001930p:plain]

デバイスを同様にキャプチャボードのやつ（自分の場合はMiraBox Capture）にして「OK」をクリック

[f:id:thr3a:20220810001934p:plain]


これでOBSでゲームの音声も扱えるようになった。が、イヤホンをパソコンにつけてもゲームの音が聞こえない。

これはデフォルトではゲームの音声が出力の対象外になっているため。配信では音が流れても自分が無音でゲームは流石にツラいため以下の設定を行う。

画面下の方の「音声ミキサー」ウィンドウよりゲームの音声のサブメニューボタン「︙」をクリックして「オーディオの詳細プロパティ」をクリック

[f:id:thr3a:20220810001938p:plain]

すると「オーディオの詳細プロパティ」ウィンドウが表示されるので「ゲームの音声」の音声モニタリングを「モニターと出力」にする。するとゲームの音声が聞こえるはず。

[f:id:thr3a:20220810001943p:plain]

### 確認ポイント

最終的なOBSのウィンドウは以下のようになるはず。

[f:id:thr3a:20220810001947p:plain]

- プレビュー画面にゲームの画面（例だとアオリちゃん ホタルちゃんのかわいい画像）が映っていること
- 自分がゲームの音声を聴けてること
- なんか喋った時に音声ミキサーのマイクの音声ゲージが動くこと

これを満たしていればOBSの設定は完璧

# Discordの設定

次はDiscordの設定

悲しいことにMacOSのセキュリティ上**そのままではゲームの音声を画面共有で流すことができない。**そこでDiscordの拡張機能をインストールする必要がある。

まずはDiscordの設定を開き「音声・ビデオ」を選択

画面共有の欄にインストールボタンがあるのでインストール。

[f:id:thr3a:20220810004114p:plain]

が、最近のMacOSだとさらにセキュリティが厳しくなっており、「現在のセキュリティ設定では、システム機能拡張のインストールは許可されていません」と言われてそのままではインストールできない。そこで以下の記事を参考にセキュリティレベルを一旦下げてインストール出来るようにする。

[https://note.com/mojibake_12/n/n4adb307ab2b1:embed:cite]

[https://gori.me/mac/mac-tips/134792:embed:cite]

最終的に以下のように「アプリケーションから音声をキャプチャする準備が整いました」と表示されればインストール完了である。

[f:id:thr3a:20220810004303p:plain]

ちなみにDiscord自体の音声設定はこんな感じでOK。いつもどおりで特に画面共有するからと言って変えることは他にない。

[f:id:thr3a:20220810004316p:plain]

### 確認ポイント

- 画面共有の拡張機能のインストールが完了している
- OBS同様に画面共有の権限がOKになっている

[f:id:thr3a:20220810004614p:plain]

# いざ配信

これでようやく配信できるが、このままOBSの画面を配信しても編集画面が映ってしまう。

MacOSの場合はWindowsみたいにOBSとDiscordが連携していいように画面を加工してくれないので、自分でゲーム画面だけのウィンドウを作成し、それをDiscordに画面共有させる必要がある。

まずはMac画面の右上のマニューバーからOBSのアイコンをクリックし、「全画面プロジェクター（番組）」を選択しディスプレイをクリック

[f:id:thr3a:20220810005715p:plain:alt=]

すると全画面でゲームの画面が映し出される。が、Discordは全画面のウィンドウを画面共有できないので、ウィンドウの緑ボタンをクリックして全画面表示を解除する

[f:id:thr3a:20220810005712p:plain:alt=]

で、**DiscordをOBSと同じディスプレイスペースに置いた状態**でDiscordの画面共有ボタンをクリックし全画面表示させたゲーム映像だけのウィンドウを選択する

[f:id:thr3a:20220810005702p:plain:alt=]

「Go Live」をクリックすると晴れて配信が開始される。やったね！

[f:id:thr3a:20220810005658p:plain:alt=]

が、このままだとMacのウィンドウのタイトルバーも同時に映ってしまう。なんかダサい。

[f:id:thr3a:20220810005651p:plain:alt=]

そこで一度縮小化したゲームのウィンドウを再度全画面化する。こうしても1度画面共有されていれば解除されることはない。

[f:id:thr3a:20220810005645p:plain:alt=]

これで相手からはゲームの映像だけが画面共有される。

[f:id:thr3a:20220810005706p:plain:alt=]
