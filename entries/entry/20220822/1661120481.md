---
Title: マスターノード ＝ コントロールプレーンではない
Category:
- kubernetes
Date: 2022-08-22T07:21:21+09:00
URL: https://blog.turai.work/entry/20220822/1661120481
EditURL: https://blog.hatena.ne.jp/thr3a/thr3a.hatenablog.com/atom/entry/4207112889910833771
---

# マスターノード ≠ コントロールプレーン

Kubernetesのクラスタにおいてクラスタ管理のみに徹する役割をコントロールプレーンという。てっきり言葉遊びでマスターノードとコントロールプレーンは同じ意味だと思っていたが全く違った。

正確には**マスターノードの役割の中の１つにコントロールプレーンを含む**。らしい。

# コントロールプレーンの対義語は

実際のコンテナが動く役割を「データプレーン」という。

つまり図にするとこういう事

![スクリーンショット 2022-08-22 7.16.28.png](https://cdn-ak.f.st-hatena.com/images/fotolife/t/thr3a/20220822/20220822071642.png)

# kubeadmで構築するときの１台目のノードは？

あれは当然最初コントローラーも動いているのでマスターノードである。その後ノードを追加する際にワーカーノードとするか、コントロールプレーンも含んだノード、いわゆるマスターノードにするかは任意となる。

# マスターノードとワーカーノードの違いは？

どのノードにもコントロールプレーンもデータプレーンを乗せられるので、構築１台目のノードみたいにマスターノードだけどコントロールプレーンだけではなくデータプレーンも持つことはできる。

が、一般的にKubernetesのクラスタを管理するノードと実際にコンテナを動かすノードは別れていたほうが障害に強いのでマスターノードにはコントロールプレーンしか乗せなくなる。

これが最初のマスターノード = コントロールプレーンと誤解してしまったんだと思う

![スクリーンショット 2022-08-22 7.16.18.png](https://cdn-ak.f.st-hatena.com/images/fotolife/t/thr3a/20220822/20220822072009.png)

kubeadmについては以下の本がめっちゃ詳しかった

[asin:B08H1X3D6M:detail]
